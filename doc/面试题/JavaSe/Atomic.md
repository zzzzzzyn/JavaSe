#### 常见问题

1. atomic包下有哪几种原子更新方式？

   - 原子更新基本类型

   - 原子更新数组

   - 原子更新引用
   - 原子更新字段(属性)

2. 他们为什么可以做到原子更新？

   - 使用cas自旋方式做到

3. 说说什么是cas？

   - cas：Compare and Swap，比较与交换类似乐观锁，当需要更新字段A时，先取出A，设置更新的值，再传入A和更新的值，若预期值与A相同，则更新，不相同则重新尝试

4. cas使用上有什么问题？

   - ABA问题：把字段从1更到2又更成1，此时别人修改时时没有感觉的(解决方法：加入版本号或时间戳)
   - 循环开销大：循环时间过长会给cpu造成很大开销
   - 只能保证一个共享变量的原子操作
     - 解决1：使用锁来达到原子更新目的
     - 解决2：使用原子更新引用类(推荐)

5. 使用场景?
   - 从问题分析，ABA问题，循环开销大决定多读少写场景的使用