#### 并发常见问题

1. 为什么要用到并发，并发优缺点？
   - 优点：
     - 提高业务的处理能力
   - 缺点：
     - 频繁上下文切换问题
       - 解决方案：cas，分段锁(concurrenthashmap)
     - 线程安全问题
       - 临界资源的使用
       - 死锁问题
   
2. 线程状态和基本操作？
   
   - 状态：NEW，RUNNABLE，BLOCKED，WAITING，TIMED_WAITING，TERMINATED
   
3. java内存模型和happens-before规则？
   
   - JMM内存模型
   
4. 死锁的四个条件与避免死锁？
   - 互斥条件：该资源同一时刻只能被一个线程访问
   - 请求与保持条件：一个线程阻塞时，不释放占有的资源
   - 不剥夺条件：线程占用资源时，该资源不能被其他线程获取
   - 循环等待条件：若干线程形成循环等待关系
   - 解决：破坏四个条件之一
   
5. sleep方法和wait方法的区别？
   - **sleep没有释放锁，wait释放了锁**
   - 都可以暂停线程的执行
   - wait一般用来做线程交互/通信，而sleep通常用于线程暂停执行
   - wait后需要使用notify或notifyAll来唤醒，而sleep可以自动苏醒
   
6. 对synchronized的理解？

   - [ ] TODO

7. synchronized的用法？
   - 修饰实例方法：锁对象是当前实例
   - 修饰静态方法：所对象是当前类
   - 修饰代码块：指定加锁对象

8. synchronized底层原理？

   - [ ] 从字节码的monitorenter和monitorexit来答

9. JDK1.6以后synchronized都做了哪些优化？

   - [ ] TODO

10. 谈谈synchronized和ReentrantLock的区别？

    |     特性     | synchronize | ReentrantLock |
    | :----------: | :---------: | :-----------: |
    |    可重入    |      √      |       ×       |
    |    公平锁    |      ×      |       √       |
    |   非公平锁   |      √      |       √       |
    |   超时等待   |      ×      |       √       |
    |   尝试加锁   |      ×      |       √       |
    |   Java特性   |      √      |       ×       |
    |   响应中断   |      ×      |       √       |
    |  自动释放锁  |      √      |       ×       |
    | 对异常的处理 | 自动释放锁  |  手动释放锁   |

11. volatile关键的作用？

    - 防止指令重排
    - 解决变量的内存可见性

12. 谈谈对ThreadLocal的认识？

    - 